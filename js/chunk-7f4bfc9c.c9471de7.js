(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7f4bfc9c"],{6317:function(e,t,a){},6911:function(e,t,a){"use strict";var n=a("6317"),r=a.n(n);r.a},"84c4":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"page-user-list"}},[a("div",{staticClass:"vx-card p-6"},[a("div",{staticClass:"vx-col mb-6 w-full flex",attrs:{id:"account-manage-buttons"}},[a("vs-button",{staticClass:"mr-4",attrs:{"icon-pack":"feather",icon:"icon-new",to:{name:"admin-batch-create"}}},[e._v(e._s(e.$t("button.create")))])],1),a("div",{staticClass:"flex flex-wrap items-center"},[a("div",{staticClass:"flex-grow"},[a("vs-dropdown",{staticClass:"cursor-pointer",attrs:{"vs-trigger-click":""}},[a("div",{staticClass:"p-4 border border-solid d-theme-border-grey-light rounded-full d-theme-dark-bg cursor-pointer flex items-center justify-between font-medium"},[a("span",{staticClass:"mr-2"},[e._v(e._s(e.currentPage*e.paginationPageSize-(e.paginationPageSize-1))+" - "+e._s(e.batchesData.length-e.currentPage*e.paginationPageSize>0?e.currentPage*e.paginationPageSize:e.batchesData.length)+" of "+e._s(e.batchesData.length))]),a("feather-icon",{attrs:{icon:"ChevronDownIcon",svgClasses:"h-4 w-4"}})],1),a("vs-dropdown-menu",[a("vs-dropdown-item",{on:{click:function(t){return e.gridApi.paginationSetPageSize(10)}}},[a("span",[e._v("10")])]),a("vs-dropdown-item",{on:{click:function(t){return e.gridApi.paginationSetPageSize(20)}}},[a("span",[e._v("20")])]),a("vs-dropdown-item",{on:{click:function(t){return e.gridApi.paginationSetPageSize(25)}}},[a("span",[e._v("25")])]),a("vs-dropdown-item",{on:{click:function(t){return e.gridApi.paginationSetPageSize(30)}}},[a("span",[e._v("30")])])],1)],1)],1),a("vs-input",{staticClass:"sm:mr-4 mr-0 sm:w-auto w-full sm:order-normal order-3 sm:mt-0 mt-4",attrs:{placeholder:"Search..."},on:{input:e.updateSearchQuery},model:{value:e.searchQuery,callback:function(t){e.searchQuery=t},expression:"searchQuery"}})],1),a("ag-grid-vue",{ref:"agGridTable",staticClass:"ag-theme-material w-100 my-4 ag-grid-table",attrs:{components:e.components,gridOptions:e.gridOptions,columnDefs:e.columnDefs,defaultColDef:e.defaultColDef,rowData:e.batchesData,rowSelection:"multiple",colResizeDefault:"shift",animateRows:!0,floatingFilter:!0,pagination:!0,paginationPageSize:e.paginationPageSize,suppressPaginationPanel:!0,enableRtl:e.$vs.rtl}}),a("vs-pagination",{attrs:{total:e.totalPages,max:7},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)])},r=[],i=(a("c5f6"),a("401be")),s=(a("4e06"),a("4a7a")),o=a.n(s),c=a("f7e5"),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("vs-chip",{staticClass:"ag-grid-cell-chip",attrs:{color:e.chipColor(e.params.value)}},[a("span",[e._v(e._s(e.$t(e.textStatus(e.params.value))))])])},u=[],d={name:"CellRendererStatus",computed:{chipColor:function(){return function(e){return 1===e?"success":0===e?"danger":void 0}},textStatus:function(){return function(e){return 1===e?"active":0===e?"deactive":void 0}}}},h=d,f=(a("b1f4"),a("2877")),p=Object(f["a"])(h,l,u,!1,null,null,null),m=p.exports,g=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"flex items-center"},[a("router-link",{staticClass:"text-inherit hover:text-primary",attrs:{to:e.url},on:{click:function(e){e.stopPropagation(),e.preventDefault()}}},[e._v(e._s(e.params.value))])],1)},b=[],v={name:"CellRendererLink",computed:{url:function(){return"/admin/batch/view/".concat(this.params.data.id)}}},w=v,C=Object(f["a"])(w,g,b,!1,null,null,null),P=C.exports,D=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",[e._v(e._s(e._f("moment")(e.params.value,"DD/MM/YYYY")))])},R=[],S={name:"CellRendererDate"},_=S,y=Object(f["a"])(_,D,R,!1,null,null,null),A=y.exports,O=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{style:{direction:e.$vs.rtl?"rtl":"ltr"}},[a("feather-icon",{attrs:{icon:"EyeIcon",svgClasses:"h-5 w-5 mr-4 hover:text-primary cursor-pointer"},on:{click:e.viewRecord}}),a("feather-icon",{attrs:{icon:"Edit3Icon",svgClasses:"h-5 w-5 mr-4 hover:text-primary cursor-pointer"},on:{click:e.editRecord}})],1)},k=[],E={name:"CellRendererActions",methods:{viewRecord:function(){this.$router.push("/admin/batch/view/".concat(this.params.data.id)).catch((function(){}))},editRecord:function(){this.$router.push("/admin/batch/edit/".concat(this.params.data.id)).catch((function(){}))},confirmDeleteRecord:function(){this.$vs.dialog({type:"confirm",color:"danger",title:"Confirm Delete",text:'You are about to delete "'.concat(this.params.data.username,'"'),accept:this.deleteRecord,acceptText:"Delete"})},deleteRecord:function(){this.showDeleteSuccess()},showDeleteSuccess:function(){this.$vs.notify({color:"success",title:"User Deleted",text:"The selected user was successfully deleted"})}}},F=E,$=Object(f["a"])(F,O,k,!1,null,null,null),x=$.exports,T={components:{AgGridVue:i["AgGridVue"],vSelect:o.a,CellRendererStatus:m,CellRendererLink:P,CellRendererDate:A,CellRendererActions:x},data:function(){return{searchQuery:"",gridApi:null,gridOptions:{},defaultColDef:{sortable:!0,resizable:!0,suppressMenu:!0},columnDefs:[{headerName:this.$t("batch.year"),field:"year",width:210,cellRendererFramework:"CellRendererLink"},{headerName:this.$t("batch.status"),field:"status",width:210,cellRendererFramework:"CellRendererStatus"},{headerName:this.$t("batch.dateStart"),field:"dateStart",width:225,cellRendererFramework:"CellRendererDate"},{headerName:this.$t("batch.dateEnd"),field:"dateEnd",width:225,cellRendererFramework:"CellRendererDate"},{headerName:this.$t("batch.datePayment"),field:"datePayment",width:225,cellRendererFramework:"CellRendererDate"},{headerName:this.$t("batch.datePayment2"),field:"datePayment2",width:225,cellRendererFramework:"CellRendererDate"},{headerName:this.$t("batch.dateDelivery"),field:"dateDelivery",width:225,cellRendererFramework:"CellRendererDate"},{headerName:this.$t("actions"),field:"transactions",width:150,cellRendererFramework:"CellRendererActions"}],components:{CellRendererStatus:m,CellRendererLink:P,CellRendererDate:A,CellRendererActions:x}}},watch:{roleFilter:function(e){this.setColumnFilter("role",e.value)},statusFilter:function(e){this.setColumnFilter("status",e.value)},isVerifiedFilter:function(e){var t="all"===e.value?"all":"yes"==e.value?"true":"false";this.setColumnFilter("is_verified",t)},departmentFilter:function(e){this.setColumnFilter("department",e.value)}},computed:{batchesData:function(){return this.$store.state.batchManagement.batches},paginationPageSize:function(){return this.gridApi?this.gridApi.paginationGetPageSize():10},totalPages:function(){return this.gridApi?this.gridApi.paginationGetTotalPages():0},currentPage:{get:function(){return this.gridApi?this.gridApi.paginationGetCurrentPage()+1:1},set:function(e){this.gridApi.paginationGoToPage(e-1)}}},methods:{setColumnFilter:function(e,t){var a=this.gridApi.getFilterInstance(e),n=null;"all"!==t&&(n={type:"equals",filter:t}),a.setModel(n),this.gridApi.onFilterChanged()},resetColFilters:function(){this.gridApi.setFilterModel(null),this.gridApi.onFilterChanged(),this.roleFilter=this.statusFilter=this.isVerifiedFilter=this.departmentFilter={label:"All",value:"all"},this.$refs.filterCard.removeRefreshAnimation()},updateSearchQuery:function(e){this.gridApi.setQuickFilter(e)}},mounted:function(){if(this.gridApi=this.gridOptions.api,this.$vs.rtl){var e=this.$refs.agGridTable.$el.querySelector(".ag-header-container");e.style.left="-"+String(Number(e.style.transform.slice(11,-3))+9)+"px"}},created:function(){c["a"].isRegistered||(this.$store.registerModule("batchManagement",c["a"]),c["a"].isRegistered=!0),this.$store.dispatch("batchManagement/fetchBatches").catch((function(e){console.error(e)}))}},j=T,B=(a("6911"),Object(f["a"])(j,n,r,!1,null,null,null));t["default"]=B.exports},a719:function(e,t,a){},b1f4:function(e,t,a){"use strict";var n=a("a719"),r=a.n(n);r.a},f7e5:function(e,t,a){"use strict";var n={batches:[],ordersReport:{books:[],batch:{}}},r=(a("20d6"),{SET_BATCHES:function(e,t){e.batches=t.map((function(e){return console.log("set batchs"),console.log(e.attributes),e.attributes}))},SET_BATCH:function(e,t){e.batch=t.attributes,console.log("set batch"),console.log(t.attributes)},UPDATE_BATCH:function(e,t){return console.log("update batch"),console.log(e),console.log(t),!0},ADD_BATCH:function(e,t){return console.log("add batch"),console.log(e),console.log(t),!0},REMOVE_BATCH:function(e,t){var a=e.batches.findIndex((function(e){return e.id==t}));e.batches.splice(a,1)},SET_ORDERS_REPORT:function(e,t){console.log("teste"),console.log(t),e.ordersReport.books=t.map((function(e){return console.log("set batchs"),console.log(e.attributes),e.attributes}))}}),i=(a("8e6e"),a("ac6a"),a("456d"),a("bd86")),s=a("bb36");function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){Object(i["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var l={fetchBatches:function(e){var t=this,a=e.commit;return new Promise((function(e,n){s["a"].get("/admin/batches").then((function(n){a("SET_BATCHES",t.state.responseDataPath?n[t.state.responseDataPath].data:n.data),e(n)})).catch((function(e){n(e)}))}))},fetchBatch:function(e,t){var a=this,n=e.commit;return new Promise((function(e,r){s["a"].get("/admin/batches/".concat(t)).then((function(t){n("SET_BATCH",a.state.responseDataPath?t[a.state.responseDataPath].data:t.data),e(a.state.responseDataPath?t[a.state.responseDataPath]:t)})).catch((function(e){r(e)}))}))},addBatch:function(e,t){var a=this,n=e.commit;return new Promise((function(e,r){var i=c({},t,{status:t.status.value});s["a"].post("/admin/batches",{attributes:i}).then((function(t){n("ADD_BATCH",a.state.responseDataPath?t[a.state.responseDataPath].data:t.data),e(t)})).catch((function(e){r(e)}))}))},updateBatch:function(e,t){var a=e.commit;return new Promise((function(e,n){s["a"].patch("/admin/batches/".concat(t.id),{data:t}).then((function(n){a("UPDATE_BATCH",Object.assign(t,{id:n.data.id})),e(n)})).catch((function(e){n(e)}))}))},removeBatch:function(e,t){var a=e.commit;return new Promise((function(e,n){s["a"].delete("/admin/batches/".concat(t)).then((function(n){a("REMOVE_BATCH",t),e(n)})).catch((function(e){n(e)}))}))},fetchOrdersReport:function(e,t){var a=this,n=e.commit;return new Promise((function(e,r){s["a"].get("/admin/batches/".concat(t,"/orders-report")).then((function(t){n("SET_ORDERS_REPORT",a.state.responseDataPath?t[a.state.responseDataPath].data:t.data),e(t)})).catch((function(e){r(e)}))}))}},u={};t["a"]={isRegistered:!1,namespaced:!0,state:n,mutations:r,actions:l,getters:u}}}]);
//# sourceMappingURL=chunk-7f4bfc9c.c9471de7.js.map