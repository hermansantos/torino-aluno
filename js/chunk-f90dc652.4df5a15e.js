(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f90dc652"],{"033c":function(e,t,r){},"3e13":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"page-user-list"}},[r("vx-card",{ref:"filterCard",staticClass:"user-list-filters mb-8",attrs:{title:e.$t("filters"),actionButtons:""},on:{refresh:e.resetColFilters,remove:e.resetColFilters}},[r("div",{staticClass:"vx-row"},[r("div",{staticClass:"vx-col md:w-1/4 sm:w-1/2 w-full"},[r("label",{staticClass:"text-sm opacity-75"},[e._v("Status")]),r("v-select",{staticClass:"mb-4 md:mb-0",attrs:{options:e.statusOptions,clearable:!1,dir:e.$vs.rtl?"rtl":"ltr"},model:{value:e.statusFilter,callback:function(t){e.statusFilter=t},expression:"statusFilter"}})],1)])]),r("div",{staticClass:"vx-card p-6"},[r("div",{staticClass:"vx-col mb-6 w-full flex",attrs:{id:"account-manage-buttons"}},[r("vs-button",{staticClass:"mr-4",attrs:{"icon-pack":"feather",icon:"icon-new",to:{name:"admin-book-create"}}},[e._v(e._s(e.$t("button.create")))])],1),r("div",{staticClass:"flex flex-wrap items-center"},[r("div",{staticClass:"flex-grow"},[r("vs-dropdown",{staticClass:"cursor-pointer",attrs:{"vs-trigger-click":""}},[r("div",{staticClass:"p-4 border border-solid d-theme-border-grey-light rounded-full d-theme-dark-bg cursor-pointer flex items-center justify-between font-medium"},[r("span",{staticClass:"mr-2"},[e._v(e._s(e.currentPage*e.paginationPageSize-(e.paginationPageSize-1))+" - "+e._s(e.booksData.length-e.currentPage*e.paginationPageSize>0?e.currentPage*e.paginationPageSize:e.booksData.length)+" of "+e._s(e.booksData.length))]),r("feather-icon",{attrs:{icon:"ChevronDownIcon",svgClasses:"h-4 w-4"}})],1),r("vs-dropdown-menu",[r("vs-dropdown-item",{on:{click:function(t){return e.gridApi.paginationSetPageSize(10)}}},[r("span",[e._v("10")])]),r("vs-dropdown-item",{on:{click:function(t){return e.gridApi.paginationSetPageSize(20)}}},[r("span",[e._v("20")])]),r("vs-dropdown-item",{on:{click:function(t){return e.gridApi.paginationSetPageSize(25)}}},[r("span",[e._v("25")])]),r("vs-dropdown-item",{on:{click:function(t){return e.gridApi.paginationSetPageSize(30)}}},[r("span",[e._v("30")])])],1)],1)],1),r("vs-input",{staticClass:"sm:mr-4 mr-0 sm:w-auto w-full sm:order-normal order-3 sm:mt-0 mt-4",attrs:{placeholder:"Search..."},on:{input:e.updateSearchQuery},model:{value:e.searchQuery,callback:function(t){e.searchQuery=t},expression:"searchQuery"}})],1),r("ag-grid-vue",{ref:"agGridTable",staticClass:"ag-theme-material w-100 my-4 ag-grid-table",attrs:{components:e.components,gridOptions:e.gridOptions,columnDefs:e.columnDefs,defaultColDef:e.defaultColDef,rowData:e.booksData,rowSelection:"multiple",colResizeDefault:"shift",animateRows:!0,floatingFilter:!0,pagination:!0,paginationPageSize:e.paginationPageSize,suppressPaginationPanel:!0,enableRtl:e.$vs.rtl}}),r("vs-pagination",{attrs:{total:e.totalPages,max:7},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)],1)},i=[],a=(r("c5f6"),r("401be")),o=(r("4e06"),r("4a7a")),s=r.n(o),l=r("76ab"),c=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"flex items-center"},[r("router-link",{staticClass:"text-inherit hover:text-primary",attrs:{to:e.url},on:{click:function(e){e.stopPropagation(),e.preventDefault()}}},[e._v(e._s(e.params.value))])],1)},u=[],d={name:"CellRendererLink",computed:{url:function(){return"/admin/book/view/".concat(this.params.data.id)}}},p=d,f=r("2877"),h=Object(f["a"])(p,c,u,!1,null,null,null),m=h.exports,g=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("vs-chip",{staticClass:"ag-grid-cell-chip",attrs:{color:e.chipColor(e.params.value)}},[r("span",[e._v(e._s(e.$t(e.textStatus(e.params.value))))])])},v=[],b={name:"CellRendererStatus",computed:{chipColor:function(){return function(e){return 1===e?"success":0===e?"danger":void 0}},textStatus:function(){return function(e){return 1===e?"active":0===e?"deactive":void 0}}}},w=b,O=(r("5d82"),Object(f["a"])(w,g,v,!1,null,null,null)),k=O.exports,P=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{style:{direction:e.$vs.rtl?"rtl":"ltr"}},[r("feather-icon",{attrs:{icon:"EyeIcon",svgClasses:"h-5 w-5 mr-4 hover:text-primary cursor-pointer"},on:{click:e.viewRecord}}),r("feather-icon",{attrs:{icon:"Edit3Icon",svgClasses:"h-5 w-5 mr-4 hover:text-primary cursor-pointer"},on:{click:e.editRecord}})],1)},C=[],y={name:"CellRendererActions",methods:{viewRecord:function(){this.$router.push("/admin/book/view/".concat(this.params.data.id)).catch((function(){}))},editRecord:function(){this.$router.push("/admin/book/edit/".concat(this.params.data.id)).catch((function(){}))},confirmDeleteRecord:function(){this.$vs.dialog({type:"confirm",color:"danger",title:"Confirm Delete",text:'You are about to delete "'.concat(this.params.data.username,'"'),accept:this.deleteRecord,acceptText:"Delete"})},deleteRecord:function(){this.showDeleteSuccess()},showDeleteSuccess:function(){this.$vs.notify({color:"success",title:"User Deleted",text:"The selected user was successfully deleted"})}}},D=y,S=Object(f["a"])(D,P,C,!1,null,null,null),R=S.exports,_=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",[e._v(e._s(e.params.value.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})))])},$=[],x={name:"CellRendererPrice"},j=x,A=Object(f["a"])(j,_,$,!1,null,null,null),F=A.exports,E={components:{AgGridVue:a["AgGridVue"],vSelect:s.a,CellRendererLink:m,CellRendererStatus:k,CellRendererActions:R,CellRendererPrice:F},data:function(){return{statusFilter:{label:this.$t("all"),value:"all"},statusOptions:[{label:this.$t("all"),value:"all"},{label:this.$t("active"),value:1},{label:this.$t("deactive"),value:0}],searchQuery:"",gridApi:null,gridOptions:{},defaultColDef:{sortable:!0,resizable:!0,suppressMenu:!0},columnDefs:[{headerName:this.$t("book.title"),field:"title",width:210,cellRendererFramework:"CellRendererLink"},{headerName:this.$t("book.author"),field:"author",width:225},{headerName:this.$t("book.publishingHouse"),field:"publishingHouse",width:225},{headerName:this.$t("book.isbn"),field:"isbn",width:225},{headerName:this.$t("book.price"),field:"price",width:225,cellRendererFramework:"CellRendererPrice"},{headerName:this.$t("book.status"),field:"status",width:225,cellRendererFramework:"CellRendererStatus"},{headerName:this.$t("actions"),field:"transactions",width:150,cellRendererFramework:"CellRendererActions"}],components:{CellRendererLink:m,CellRendererStatus:k,CellRendererActions:R,CellRendererPrice:F}}},watch:{roleFilter:function(e){this.setColumnFilter("role",e.value)},statusFilter:function(e){this.setColumnFilter("status",e.value)},isVerifiedFilter:function(e){var t="all"===e.value?"all":"yes"==e.value?"true":"false";this.setColumnFilter("is_verified",t)},departmentFilter:function(e){this.setColumnFilter("department",e.value)}},computed:{booksData:function(){return this.$store.state.bookManagement.books},paginationPageSize:function(){return this.gridApi?this.gridApi.paginationGetPageSize():10},totalPages:function(){return this.gridApi?this.gridApi.paginationGetTotalPages():0},currentPage:{get:function(){return this.gridApi?this.gridApi.paginationGetCurrentPage()+1:1},set:function(e){this.gridApi.paginationGoToPage(e-1)}}},methods:{setColumnFilter:function(e,t){var r=this.gridApi.getFilterInstance(e),n=null;"all"!==t&&(n={type:"equals",filter:t}),r.setModel(n),this.gridApi.onFilterChanged()},resetColFilters:function(){this.gridApi.setFilterModel(null),this.gridApi.onFilterChanged(),this.roleFilter=this.statusFilter=this.isVerifiedFilter=this.departmentFilter={label:"All",value:"all"},this.$refs.filterCard.removeRefreshAnimation()},updateSearchQuery:function(e){this.gridApi.setQuickFilter(e)}},mounted:function(){if(this.gridApi=this.gridOptions.api,this.$vs.rtl){var e=this.$refs.agGridTable.$el.querySelector(".ag-header-container");e.style.left="-"+String(Number(e.style.transform.slice(11,-3))+9)+"px"}},created:function(){l["a"].isRegistered||(this.$store.registerModule("bookManagement",l["a"]),l["a"].isRegistered=!0),this.$store.dispatch("bookManagement/fetchBooks").catch((function(e){console.error(e)}))}},B=E,z=(r("5242"),Object(f["a"])(B,n,i,!1,null,null,null));t["default"]=z.exports},5242:function(e,t,r){"use strict";var n=r("033c"),i=r.n(n);i.a},"5d82":function(e,t,r){"use strict";var n=r("8a20"),i=r.n(n);i.a},"76ab":function(e,t,r){"use strict";var n={books:[]},i=(r("8e6e"),r("ac6a"),r("456d"),r("20d6"),r("bd86"));function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){Object(i["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var s={SET_BOOKS:function(e,t){e.books=t.map((function(e){return console.log(e),o({},e.attributes,{id:e.id})}))},UPDATE_BOOK:function(e,t){return console.log("update book"),console.log(e),console.log(t),!0},ADD_BOOK:function(e,t){return console.log("add book"),console.log(e),console.log(t),!0},REMOVE_BOOK:function(e,t){var r=e.books.findIndex((function(e){return e.id==t}));e.books.splice(r,1)}},l=r("bb36");function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){Object(i["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var d={fetchBooks:function(e){var t=this,r=e.commit;return new Promise((function(e,n){l["a"].get("/admin/books").then((function(n){r("SET_BOOKS",t.state.responseDataPath?n[t.state.responseDataPath].data:n.data),e(n)})).catch((function(e){n(e)}))}))},fetchBook:function(e,t){var r=this;return new Promise((function(e,n){l["a"].get("/admin/books/".concat(t)).then((function(t){e(r.state.responseDataPath?t[r.state.responseDataPath]:t)})).catch((function(e){n(e)}))}))},addBook:function(e,t){var r=this,n=e.commit;return new Promise((function(e,i){var a=u({},t,{status:t.status.value});l["a"].post("/admin/books",{attributes:a}).then((function(t){n("ADD_BOOK",r.state.responseDataPath?t[r.state.responseDataPath].data:t.data),e(t)})).catch((function(e){i(e)}))}))},updateBook:function(e,t){var r=e.commit;return new Promise((function(e,n){var i=u({},t,{status:t.status.value});l["a"].patch("/admin/books/".concat(t.id),{attributes:i}).then((function(n){console.log(t),console.log(n),r("UPDATE_BOOK",Object.assign(t,{id:n.data.data.id})),e(n)})).catch((function(e){console.log("error"),console.log(e),n(e)}))}))},removeRecord:function(e,t){var r=e.commit;return new Promise((function(e,n){l["a"].delete("/admin/books/".concat(t)).then((function(n){r("REMOVE_BOOK",t),e(n)})).catch((function(e){n(e)}))}))}},p={};t["a"]={isRegistered:!1,namespaced:!0,state:n,mutations:s,actions:d,getters:p}},"8a20":function(e,t,r){}}]);
//# sourceMappingURL=chunk-f90dc652.4df5a15e.js.map