(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-21c1539c"],{"8a0b":function(t,e,a){},a4ef:function(t,e,a){t.exports=a.p+"img/logo.a2db1d23.png"},d8ae:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"invoice-page"}},[n("div",{staticClass:"flex flex-wrap items-center justify-between"},[n("div",{staticClass:"flex items-center"},[n("vs-button",{staticClass:"mb-base mr-3",attrs:{"icon-pack":"feather",icon:"icon icon-file"},on:{click:t.printInvoice}},[t._v("Print")])],1)]),n("vx-card",{attrs:{id:"invoice-container"}},[n("div",{staticClass:"vx-row leading-loose p-base"},[n("div",{staticClass:"vx-col w-1/2 mt-base"},[n("img",{attrs:{src:a("a4ef"),alt:"vuexy-logo"}})]),n("div",{staticClass:"vx-col w-1/2 text-right"},[n("h1",[t._v(t._s(t.$t("order.ordersReport")))]),n("div",{staticClass:"invoice__invoice-detail mt-6"},[n("h6",[t._v(t._s(t.$t("batch.batch")))]),n("p",[t._v(t._s(t.ordersReport.batch.id)+"/"+t._s(t.ordersReport.batch.year))]),n("h6",{staticClass:"mt-4"},[t._v(t._s(t.$t("batch.dates")))]),n("p",[t._v(t._s(t._f("date")(t.ordersReport.batch.dateStart,!0))+" at√© "+t._s(t._f("date")(t.ordersReport.batch.dateEnd,!0)))])])])]),n("div",{staticClass:"p-base"},[n("vs-table",{attrs:{hoverFlat:"",data:t.ordersReport.books},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.data;return t._l(a,(function(e,o){return n("vs-tr",{key:o},[n("vs-td",{attrs:{data:a[o].title}},[t._v(t._s(a[o].title))]),n("vs-td",{attrs:{data:a[o].isbn}},[t._v(t._s(a[o].isbn))]),n("vs-td",{attrs:{data:a[o].totalOrdered}},[t._v(t._s(a[o].totalOrdered))])],1)}))}}])},[n("template",{slot:"thead"},[n("vs-th",{staticClass:"pointer-events-none"},[t._v(t._s(t.$t("book.book")))]),n("vs-th",{staticClass:"pointer-events-none"},[t._v(t._s(t.$t("book.isbn")))]),n("vs-th",{staticClass:"pointer-events-none"},[t._v(t._s(t.$t("book.amount")))])],1)],2)],1)])],1)},o=[],s=a("f7e5"),c={data:function(){return{ordersReport:{books:[],batch:{}}}},computed:{},methods:{printInvoice:function(){window.print()}},components:{},mounted:function(){this.$emit("setAppClasses","invoice-page")},created:function(){var t=this;s["a"].isRegistered||(this.$store.registerModule("batchManagement",s["a"]),s["a"].isRegistered=!0);var e=this.$route.params.batchId;this.$store.dispatch("batchManagement/fetchOrdersReport",e).then((function(e){t.ordersReport.books=e.data.data.map((function(t){return t.attributes}))})).catch((function(e){console.log("error"),console.log(e),404!==e.response.status||(t.batch_not_found=!0)})),this.$store.dispatch("batchManagement/fetchBatch",e).then((function(e){t.ordersReport.batch=e.data.attributes})).catch((function(e){404!==e.response.status?console.error(e):t.batch_not_found=!0}))}},r=c,i=(a("f02a"),a("2877")),u=Object(i["a"])(r,n,o,!1,null,null,null);e["default"]=u.exports},f02a:function(t,e,a){"use strict";var n=a("8a0b"),o=a.n(n);o.a},f7e5:function(t,e,a){"use strict";var n={batches:[],ordersReport:{books:[],batch:{}}},o=(a("20d6"),{SET_BATCHES:function(t,e){t.batches=e.map((function(t){return console.log("set batchs"),console.log(t.attributes),t.attributes}))},SET_BATCH:function(t,e){t.batch=e.attributes,console.log("set batch"),console.log(e.attributes)},UPDATE_BATCH:function(t,e){return console.log("update batch"),console.log(t),console.log(e),!0},ADD_BATCH:function(t,e){return console.log("add batch"),console.log(t),console.log(e),!0},REMOVE_BATCH:function(t,e){var a=t.batches.findIndex((function(t){return t.id==e}));t.batches.splice(a,1)},SET_ORDERS_REPORT:function(t,e){console.log("teste"),console.log(e),t.ordersReport.books=e.map((function(t){return console.log("set batchs"),console.log(t.attributes),t.attributes}))}}),s=(a("8e6e"),a("ac6a"),a("456d"),a("bd86")),c=a("bb36");function r(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function i(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?r(Object(a),!0).forEach((function(e){Object(s["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var u={fetchBatches:function(t){var e=this,a=t.commit;return new Promise((function(t,n){c["a"].get("/admin/batches").then((function(n){a("SET_BATCHES",e.state.responseDataPath?n[e.state.responseDataPath].data:n.data),t(n)})).catch((function(t){n(t)}))}))},fetchBatch:function(t,e){var a=this,n=t.commit;return new Promise((function(t,o){c["a"].get("/admin/batches/".concat(e)).then((function(e){n("SET_BATCH",a.state.responseDataPath?e[a.state.responseDataPath].data:e.data),t(a.state.responseDataPath?e[a.state.responseDataPath]:e)})).catch((function(t){o(t)}))}))},addBatch:function(t,e){var a=this,n=t.commit;return new Promise((function(t,o){var s=i({},e,{status:e.status.value});c["a"].post("/admin/batches",{attributes:s}).then((function(e){n("ADD_BATCH",a.state.responseDataPath?e[a.state.responseDataPath].data:e.data),t(e)})).catch((function(t){o(t)}))}))},updateBatch:function(t,e){var a=t.commit;return new Promise((function(t,n){c["a"].patch("/admin/batches/".concat(e.id),{data:e}).then((function(n){a("UPDATE_BATCH",Object.assign(e,{id:n.data.id})),t(n)})).catch((function(t){n(t)}))}))},removeBatch:function(t,e){var a=t.commit;return new Promise((function(t,n){c["a"].delete("/admin/batches/".concat(e)).then((function(n){a("REMOVE_BATCH",e),t(n)})).catch((function(t){n(t)}))}))},fetchOrdersReport:function(t,e){var a=this,n=t.commit;return new Promise((function(t,o){c["a"].get("/admin/batches/".concat(e,"/orders-report")).then((function(e){n("SET_ORDERS_REPORT",a.state.responseDataPath?e[a.state.responseDataPath].data:e.data),t(e)})).catch((function(t){o(t)}))}))}},d={};e["a"]={isRegistered:!1,namespaced:!0,state:n,mutations:o,actions:u,getters:d}}}]);
//# sourceMappingURL=chunk-21c1539c.04031761.js.map