(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b2c75370"],{"5f23":function(t,o,e){},"76ab":function(t,o,e){"use strict";var n={books:[]},s=(e("8e6e"),e("ac6a"),e("456d"),e("20d6"),e("bd86"));function a(t,o){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);o&&(n=n.filter((function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),e.push.apply(e,n)}return e}function r(t){for(var o=1;o<arguments.length;o++){var e=null!=arguments[o]?arguments[o]:{};o%2?a(Object(e),!0).forEach((function(o){Object(s["a"])(t,o,e[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):a(Object(e)).forEach((function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(e,o))}))}return t}var c={SET_BOOKS:function(t,o){t.books=o.map((function(t){return console.log(t),r({},t.attributes,{id:t.id})}))},UPDATE_BOOK:function(t,o){return console.log("update book"),console.log(t),console.log(o),!0},ADD_BOOK:function(t,o){return console.log("add book"),console.log(t),console.log(o),!0},REMOVE_BOOK:function(t,o){var e=t.books.findIndex((function(t){return t.id==o}));t.books.splice(e,1)}},i=e("bb36");function u(t,o){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);o&&(n=n.filter((function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),e.push.apply(e,n)}return e}function l(t){for(var o=1;o<arguments.length;o++){var e=null!=arguments[o]?arguments[o]:{};o%2?u(Object(e),!0).forEach((function(o){Object(s["a"])(t,o,e[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):u(Object(e)).forEach((function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(e,o))}))}return t}var d={fetchBooks:function(t){var o=this,e=t.commit;return new Promise((function(t,n){i["a"].get("/admin/books").then((function(n){e("SET_BOOKS",o.state.responseDataPath?n[o.state.responseDataPath].data:n.data),t(n)})).catch((function(t){n(t)}))}))},fetchBook:function(t,o){var e=this;return new Promise((function(t,n){i["a"].get("/admin/books/".concat(o)).then((function(o){t(e.state.responseDataPath?o[e.state.responseDataPath]:o)})).catch((function(t){n(t)}))}))},addBook:function(t,o){var e=this,n=t.commit;return new Promise((function(t,s){var a=l({},o,{status:o.status.value});i["a"].post("/admin/books",{attributes:a}).then((function(o){n("ADD_BOOK",e.state.responseDataPath?o[e.state.responseDataPath].data:o.data),t(o)})).catch((function(t){s(t)}))}))},updateBook:function(t,o){var e=t.commit;return new Promise((function(t,n){var s=l({},o,{status:o.status.value});i["a"].patch("/admin/books/".concat(o.id),{attributes:s}).then((function(n){console.log(o),console.log(n),e("UPDATE_BOOK",Object.assign(o,{id:n.data.data.id})),t(n)})).catch((function(t){console.log("error"),console.log(t),n(t)}))}))},removeRecord:function(t,o){var e=t.commit;return new Promise((function(t,n){i["a"].delete("/admin/books/".concat(o)).then((function(n){e("REMOVE_BOOK",o),t(n)})).catch((function(t){n(t)}))}))}},b={};o["a"]={isRegistered:!1,namespaced:!0,state:n,mutations:c,actions:d,getters:b}},"8ecb":function(t,o,e){"use strict";e.r(o);var n=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{attrs:{id:"page-user-view"}},[e("vs-alert",{attrs:{color:"danger",title:t.$t("book.notFound.title"),active:t.book_not_found},on:{"update:active":function(o){t.book_not_found=o}}},[e("span",[t._v(t._s(t.$t("book.notFound.message",{bookId:t.$route.params.bookId}))+" ")])]),t.bookData?e("div",{attrs:{id:"user-data"}},[e("vx-card",{staticClass:"mb-base",attrs:{title:t.$t("book.book")}},[e("div",{staticClass:"vx-row"},[e("div",{staticClass:"vx-col flex-1",attrs:{id:"account-info-col-1"}},[e("table",[e("tr",[e("td",{staticClass:"font-semibold"},[t._v(t._s(this.$t("book.title")))]),e("td",[t._v(t._s(t.bookData.title))])]),e("tr",[e("td",{staticClass:"font-semibold"},[t._v(t._s(this.$t("book.author")))]),e("td",[t._v(t._s(t.bookData.author))])]),e("tr",[e("td",{staticClass:"font-semibold"},[t._v(t._s(this.$t("book.publishingHouse")))]),e("td",[t._v(t._s(t.bookData.publishingHouse))])])])]),e("div",{staticClass:"vx-col flex-1",attrs:{id:"account-info-col-2"}},[e("table",[e("tr",[e("td",{staticClass:"font-semibold"},[t._v(t._s(this.$t("book.isbn")))]),e("td",[t._v(t._s(t.bookData.isbn))])]),e("tr",[e("td",{staticClass:"font-semibold"},[t._v(t._s(this.$t("book.price")))]),e("td",[t._v(t._s(t.bookData.price.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})))])]),e("tr",[e("td",{staticClass:"font-semibold"},[t._v(t._s(this.$t("book.status")))]),e("td",[t._v(t._s(t.bookData.status))])])])]),e("div",{staticClass:"vx-col w-full flex",attrs:{id:"account-manage-buttons"}},[e("vs-button",{staticClass:"mr-4",attrs:{"icon-pack":"feather",icon:"icon-edit",to:{name:"admin-book-edit",params:{bookId:t.$route.params.bookId}}}},[t._v(t._s(t.$t("button.edit")))])],1)])])],1):t._e()],1)},s=[],a=e("76ab"),r={data:function(){return{bookData:null,book_not_found:!1}},methods:{confirmDeleteRecord:function(){this.$vs.dialog({type:"confirm",color:"danger",title:"Confirm Delete",text:'You are about to delete "'.concat(this.bookData.username,'"'),accept:this.deleteRecord,acceptText:"Delete"})},deleteRecord:function(){this.$router.push({name:"app-user-list"}),this.showDeleteSuccess()},showDeleteSuccess:function(){this.$vs.notify({color:"success",title:"User Deleted",text:"The selected user was successfully deleted"})}},created:function(){var t=this;a["a"].isRegistered||(this.$store.registerModule("bookManagement",a["a"]),a["a"].isRegistered=!0);var o=this.$route.params.bookId;this.$store.dispatch("bookManagement/fetchBook",o).then((function(o){t.bookData=o.data.attributes})).catch((function(o){404!==o.response.status?console.error(o):t.book_not_found=!0}))}},c=r,i=(e("d8a9"),e("2877")),u=Object(i["a"])(c,n,s,!1,null,null,null);o["default"]=u.exports},d8a9:function(t,o,e){"use strict";var n=e("5f23"),s=e.n(n);s.a}}]);
//# sourceMappingURL=chunk-b2c75370.6b39eb97.js.map