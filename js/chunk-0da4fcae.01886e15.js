(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0da4fcae"],{"545d":function(a,e,t){"use strict";t.r(e);var r=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{attrs:{id:"page-order-edit"}},[t("vs-alert",{attrs:{color:"danger",title:"Order Not Found",active:a.order_not_found},on:{"update:active":function(e){a.order_not_found=e}}},[t("span",[a._v("Order record with id: "+a._s(a.$route.params.orderId)+" not found. ")]),t("span",[t("span",[a._v("Check ")]),t("router-link",{staticClass:"text-inherit underline",attrs:{to:{name:"page-order-list"}}},[a._v("All Orders")])],1)]),a.order_data?t("vx-card",[t("div",{staticClass:"tabs-container px-6 pt-6",attrs:{slot:"no-body"},slot:"no-body"},[t("vs-tabs",{staticClass:"tab-action-btn-fill-conatiner",model:{value:a.activeTab,callback:function(e){a.activeTab=e},expression:"activeTab"}},[t("vs-tab",{attrs:{label:"Order","icon-pack":"feather",icon:"icon-order"}},[t("div",{staticClass:"tab-text"},[t("order-edit-tab-account",{staticClass:"mt-4",attrs:{data:a.order_data}})],1)])],1)],1)]):a._e()],1)},s=[],n=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{attrs:{id:"user-edit-tab-info"}},[t("div",{staticClass:"vx-row"},[t("div",{staticClass:"vx-col md:w-1/2 w-full"},[t("div",{staticClass:"w-full mt-4"},[t("label",{staticClass:"vs-input--label"},[a._v("Year")]),t("datepicker",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{minimumView:"year",maximumView:"year",name:"year",language:a.languages[a.language],format:"yyyy"},model:{value:a.data_local.year,callback:function(e){a.$set(a.data_local,"year",e)},expression:"data_local.year"}}),t("span",{directives:[{name:"show",rawName:"v-show",value:a.errors.has("year"),expression:"errors.has('year')"}],staticClass:"text-danger text-sm"},[a._v(a._s(a.errors.first("year")))])],1),t("div",{staticClass:"w-full mt-4"},[t("label",{staticClass:"vs-input--label"},[a._v("Date Start")]),t("datepicker",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"date_start",language:a.languages[a.language],format:"dd/MM/yyyy"},model:{value:a.data_local.date_start,callback:function(e){a.$set(a.data_local,"date_start",e)},expression:"data_local.date_start"}})],1),t("span",{directives:[{name:"show",rawName:"v-show",value:a.errors.has("date_start"),expression:"errors.has('date_start')"}],staticClass:"text-danger text-sm"},[a._v(a._s(a.errors.first("date_start")))]),t("div",{staticClass:"w-full mt-4"},[t("label",{staticClass:"vs-input--label"},[a._v("Date End")]),t("datepicker",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"date_end",language:a.languages[a.language],format:"dd/MM/yyyy"},model:{value:a.data_local.date_end,callback:function(e){a.$set(a.data_local,"date_end",e)},expression:"data_local.date_end"}})],1),t("span",{directives:[{name:"show",rawName:"v-show",value:a.errors.has("date_end"),expression:"errors.has('date_end')"}],staticClass:"text-danger text-sm"},[a._v(a._s(a.errors.first("date_end")))])]),t("div",{staticClass:"vx-col md:w-1/2 w-full"},[t("div",{staticClass:"w-full mt-4"},[t("label",{staticClass:"vs-input--label"},[a._v("Date Payment")]),t("datepicker",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"date_payment",language:a.languages[a.language],format:"dd/MM/yyyy"},model:{value:a.data_local.date_payment,callback:function(e){a.$set(a.data_local,"date_payment",e)},expression:"data_local.date_payment"}})],1),t("span",{directives:[{name:"show",rawName:"v-show",value:a.errors.has("date_payment"),expression:"errors.has('date_payment')"}],staticClass:"text-danger text-sm"},[a._v(a._s(a.errors.first("date_payment")))]),t("div",{staticClass:"w-full mt-4"},[t("label",{staticClass:"vs-input--label"},[a._v("Date Delivery")]),t("datepicker",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"date_delivery",language:a.languages[a.language],format:"dd/MM/yyyy"},model:{value:a.data_local.date_delivery,callback:function(e){a.$set(a.data_local,"date_delivery",e)},expression:"data_local.date_delivery"}})],1),t("span",{directives:[{name:"show",rawName:"v-show",value:a.errors.has("date_delivery"),expression:"errors.has('date_delivery')"}],staticClass:"text-danger text-sm"},[a._v(a._s(a.errors.first("date_delivery")))])])]),t("div",{staticClass:"vx-row"},[t("div",{staticClass:"vx-col w-full"},[t("div",{staticClass:"mt-8 flex flex-wrap items-center justify-end"},[t("vs-button",{staticClass:"ml-auto mt-2",attrs:{disabled:!a.validateForm},on:{click:a.save_changes}},[a._v("Save Changes")]),t("vs-button",{staticClass:"ml-4 mt-2",attrs:{type:"border",color:"warning"},on:{click:a.reset_data}},[a._v("Reset")])],1)])])])},o=[],i=t("4a7a"),d=t.n(i),l=t("fa33"),c=t("ee9b"),u={components:{vSelect:d.a,Datepicker:l["a"]},props:{data:{type:Object,required:!0}},data:function(){return{language:"pt-BR",languages:c,data_local:JSON.parse(JSON.stringify(this.data))}},computed:{validateForm:function(){return!this.errors.any()}},methods:{save_changes:function(){var a=this;this.validateForm&&this.$store.dispatch("orderManagement/updateOrder",this.data_local).then((function(e){a.order_data=e.data.attributes})).catch((function(e){404!==e.response.status?console.error(e):a.order_not_found=!0}))},reset_data:function(){this.data_local=JSON.parse(JSON.stringify(this.data))}}},v=u,m=t("2877"),_=Object(m["a"])(v,n,o,!1,null,null,null),f=_.exports,p=t("96b8"),h={components:{OrderEditTabAccount:f},data:function(){return{order_data:null,order_not_found:!1,activeTab:0}},watch:{activeTab:function(){this.fetch_order_data(this.$route.params.orderId)}},methods:{fetch_order_data:function(a){var e=this;this.$store.dispatch("orderManagement/fetchOrder",a).then((function(a){e.order_data=a.data.attributes})).catch((function(a){404!==a.response.status?console.error(a):e.order_not_found=!0}))}},created:function(){p["a"].isRegistered||(this.$store.registerModule("orderManagement",p["a"]),p["a"].isRegistered=!0),this.fetch_order_data(this.$route.params.orderId)}},g=h,b=Object(m["a"])(g,r,s,!1,null,null,null);e["default"]=b.exports},"96b8":function(a,e,t){"use strict";var r={orders:[]},s=(t("20d6"),{SET_ORDERS:function(a,e){a.orders=e.map((function(a){return console.log("set orders"),console.log(a.attributes),a.attributes}))},SET_ORDER:function(a,e){a.order=e.attributes,console.log("set order"),console.log(e.attributes)},UPDATE_ORDER:function(a,e){return console.log("update order"),console.log(a),console.log(e),!0},ADD_ORDER:function(a,e){return console.log("add order"),console.log(a),console.log(e),!0},REMOVE_ORDER:function(a,e){var t=a.orders.findIndex((function(a){return a.id==e}));a.orders.splice(t,1)},SET_ORDERS_REPORT:function(a,e){console.log("teste"),console.log(e),a.ordersReport.books=e.map((function(a){return console.log("set orders"),console.log(a.attributes),a.attributes}))}}),n=t("bb36"),o={fetchOrders:function(a,e){var t=this,r=a.commit;return new Promise((function(a,s){n["a"].get("/admin/batches/".concat(e,"/orders")).then((function(e){r("SET_ORDERS",t.state.responseDataPath?e[t.state.responseDataPath].data:e.data),a(e)})).catch((function(a){s(a)}))}))},fetchOrder:function(a,e){var t=this,r=a.commit;return new Promise((function(a,s){n["a"].get("/admin/orders/".concat(e)).then((function(e){r("SET_ORDER",t.state.responseDataPath?e[t.state.responseDataPath].data:e.data),a(t.state.responseDataPath?e[t.state.responseDataPath]:e)})).catch((function(a){s(a)}))}))},addOrder:function(a,e){return new Promise((function(a,t){n["a"].post("/admin/orders",{data:e}).then((function(e){a(e)})).catch((function(a){t(a)}))}))},updateOrder:function(a,e){var t=a.commit;return new Promise((function(a,r){n["a"].post("/admin/orders/".concat(e.id),{data:e}).then((function(r){t("UPDATE_ORDER",Object.assign(e,{id:r.data.id})),a(r)})).catch((function(a){r(a)}))}))},removeOrder:function(a,e){var t=a.commit;return new Promise((function(a,r){n["a"].delete("/admin/orders/".concat(e)).then((function(r){t("REMOVE_ORDER",e),a(r)})).catch((function(a){r(a)}))}))},fetchOrdersReport:function(a,e){var t=this,r=a.commit;return new Promise((function(a,s){n["a"].get("/admin/orders/".concat(e,"/orders-report")).then((function(e){r("SET_ORDERS_REPORT",t.state.responseDataPath?e[t.state.responseDataPath].data:e.data),a(e)})).catch((function(a){s(a)}))}))}},i={};e["a"]={isRegistered:!1,namespaced:!0,state:r,mutations:s,actions:o,getters:i}}}]);
//# sourceMappingURL=chunk-0da4fcae.01886e15.js.map