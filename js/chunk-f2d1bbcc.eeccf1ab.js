(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f2d1bbcc"],{b101:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"page-batch-edit"}},[e("vs-alert",{attrs:{color:"danger",title:t.$t("batch.notFound.title"),active:t.batch_not_found},on:{"update:active":function(a){t.batch_not_found=a}}},[e("span",[t._v(t._s(t.$t("batch.notFound.message",{batchId:t.$route.params.batchId}))+" ")])]),t.batch_data?e("vx-card",[e("div",{staticClass:"tabs-container px-6 pt-6",attrs:{slot:"no-body"},slot:"no-body"},[e("vs-tabs",{staticClass:"tab-action-btn-fill-conatiner",model:{value:t.activeTab,callback:function(a){t.activeTab=a},expression:"activeTab"}},[e("vs-tab",{attrs:{label:t.$t("batch.batch"),"icon-pack":"feather",icon:"icon-batch"}},[e("div",{staticClass:"tab-text"},[e("batch-edit-tab-account",{staticClass:"mt-4",attrs:{data:t.batch_data}})],1)])],1)],1)]):t._e()],1)},r=[],n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"user-edit-tab-info"}},[e("div",{staticClass:"vx-row"},[e("div",{staticClass:"vx-col md:w-1/2 w-full"},[e("div",{staticClass:"w-full mt-4"},[e("label",{staticClass:"vs-input--label"},[t._v(t._s(t.$t("batch.year")))]),e("datepicker",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{minimumView:"year",maximumView:"year",name:"year",language:t.languages[t.language],format:"yyyy"},model:{value:t.dataLocal.year,callback:function(a){t.$set(t.dataLocal,"year",a)},expression:"dataLocal.year"}}),e("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("year"),expression:"errors.has('year')"}],staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.first("year")))])],1),e("div",{staticClass:"w-full mt-4"},[e("label",{staticClass:"vs-input--label"},[t._v(t._s(this.$t("batch.status")))]),e("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{clearable:!1,options:t.statusOptions,name:"status",dir:t.$vs.rtl?"rtl":"ltr"},model:{value:t.dataLocal.status,callback:function(a){t.$set(t.dataLocal,"status",a)},expression:"dataLocal.status"}})],1),e("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("status"),expression:"errors.has('status')"}],staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.first("status")))]),e("div",{staticClass:"w-full mt-4"},[e("label",{staticClass:"vs-input--label"},[t._v(t._s(t.$t("batch.dateStart")))]),e("datepicker",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"dateStart",language:t.languages[t.language],format:"dd/MM/yyyy"},model:{value:t.dataLocal.dateStart,callback:function(a){t.$set(t.dataLocal,"dateStart",a)},expression:"dataLocal.dateStart"}})],1),e("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("dateStart"),expression:"errors.has('dateStart')"}],staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.first("dateStart")))]),e("div",{staticClass:"w-full mt-4"},[e("label",{staticClass:"vs-input--label"},[t._v(t._s(t.$t("batch.dateEnd")))]),e("datepicker",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"dateEnd",language:t.languages[t.language],format:"dd/MM/yyyy"},model:{value:t.dataLocal.dateEnd,callback:function(a){t.$set(t.dataLocal,"dateEnd",a)},expression:"dataLocal.dateEnd"}})],1),e("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("dateEnd"),expression:"errors.has('dateEnd')"}],staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.first("dateEnd")))])]),e("div",{staticClass:"vx-col md:w-1/2 w-full"},[e("div",{staticClass:"w-full mt-4"},[e("label",{staticClass:"vs-input--label"},[t._v(t._s(t.$t("batch.datePayment")))]),e("datepicker",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"datePayment",language:t.languages[t.language],format:"dd/MM/yyyy"},model:{value:t.dataLocal.datePayment,callback:function(a){t.$set(t.dataLocal,"datePayment",a)},expression:"dataLocal.datePayment"}})],1),e("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("datePayment"),expression:"errors.has('datePayment')"}],staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.first("datePayment")))]),e("div",{staticClass:"w-full mt-4"},[e("label",{staticClass:"vs-input--label"},[t._v(t._s(t.$t("batch.datePayment2")))]),e("datepicker",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"datePayment2",language:t.languages[t.language],format:"dd/MM/yyyy"},model:{value:t.dataLocal.datePayment2,callback:function(a){t.$set(t.dataLocal,"datePayment2",a)},expression:"dataLocal.datePayment2"}})],1),e("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("datePayment2"),expression:"errors.has('datePayment2')"}],staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.first("datePayment2")))]),e("div",{staticClass:"w-full mt-4"},[e("label",{staticClass:"vs-input--label"},[t._v(t._s(t.$t("batch.dateDelivery")))]),e("datepicker",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"dateDelivery",language:t.languages[t.language],format:"dd/MM/yyyy"},model:{value:t.dataLocal.dateDelivery,callback:function(a){t.$set(t.dataLocal,"dateDelivery",a)},expression:"dataLocal.dateDelivery"}})],1),e("span",{directives:[{name:"show",rawName:"v-show",value:t.errors.has("dateDelivery"),expression:"errors.has('dateDelivery')"}],staticClass:"text-danger text-sm"},[t._v(t._s(t.errors.first("dateDelivery")))])])]),e("div",{staticClass:"vx-row"},[e("div",{staticClass:"vx-col w-full"},[e("div",{staticClass:"mt-8 flex flex-wrap items-center justify-end"},[e("vs-button",{staticClass:"ml-auto mt-2",attrs:{disabled:!t.validateForm},on:{click:t.save_changes}},[t._v(t._s(t.$t("button.save")))]),e("vs-button",{staticClass:"ml-4 mt-2",attrs:{type:"border",color:"warning"},on:{click:t.reset_data}},[t._v(t._s(t.$t("button.reset")))])],1)])])])},c=[],i=(e("8e6e"),e("ac6a"),e("456d"),e("bd86")),o=e("4a7a"),l=e.n(o),d=e("fa33"),u=e("ee9b"),v=e("2f62");function h(t,a){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);a&&(s=s.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),e.push.apply(e,s)}return e}function b(t){for(var a=1;a<arguments.length;a++){var e=null!=arguments[a]?arguments[a]:{};a%2?h(Object(e),!0).forEach((function(a){Object(i["a"])(t,a,e[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):h(Object(e)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(e,a))}))}return t}var m={components:{vSelect:l.a,Datepicker:d["a"]},props:{data:{type:Object,required:!0}},data:function(){return{language:"pt-BR",languages:u,dataLocal:JSON.parse(JSON.stringify(this.data)),statusOptions:[{label:this.$t("active"),value:1},{label:this.$t("deactivated"),value:0}]}},computed:{validateForm:function(){return!this.errors.any()}},methods:b({},Object(v["b"])(["setAlert"]),{save_changes:function(){var t=this;this.validateForm&&(this.$vs.loading(),this.$store.dispatch("batchManagement/updateBatch",this.dataLocal).then((function(a){t.batch_data=a.data.attributes,t.setAlert({type:"success",message:"alert.edit.success"}),t.$router.push({name:"admin-book-list"})})).catch((function(t){console.error(t)})).then((function(){t.$vs.loading.close()})))},reset_data:function(){this.dataLocal=JSON.parse(JSON.stringify(this.data))}})},f=m,p=e("2877"),g=Object(p["a"])(f,n,c,!1,null,null,null),y=g.exports,_=e("f7e5"),w={components:{BatchEditTabAccount:y},data:function(){return{batch_data:null,batch_not_found:!1,activeTab:0}},watch:{activeTab:function(){this.fetch_batch_data(this.$route.params.batchId)}},methods:{fetch_batch_data:function(t){var a=this;this.$store.dispatch("batchManagement/fetchBatch",t).then((function(t){a.batch_data=t.data.attributes})).catch((function(t){404!==t.response.status?console.error(t):a.batch_not_found=!0}))}},created:function(){_["a"].isRegistered||(this.$store.registerModule("batchManagement",_["a"]),_["a"].isRegistered=!0),this.fetch_batch_data(this.$route.params.batchId)}},O=w,P=Object(p["a"])(O,s,r,!1,null,null,null);a["default"]=P.exports},f7e5:function(t,a,e){"use strict";var s={batches:[],ordersReport:{books:[],batch:{}}},r=(e("20d6"),{SET_BATCHES:function(t,a){t.batches=a.map((function(t){return console.log("set batchs"),console.log(t.attributes),t.attributes}))},SET_BATCH:function(t,a){t.batch=a.attributes,console.log("set batch"),console.log(a.attributes)},UPDATE_BATCH:function(t,a){return console.log("update batch"),console.log(t),console.log(a),!0},ADD_BATCH:function(t,a){return console.log("add batch"),console.log(t),console.log(a),!0},REMOVE_BATCH:function(t,a){var e=t.batches.findIndex((function(t){return t.id==a}));t.batches.splice(e,1)},SET_ORDERS_REPORT:function(t,a){console.log("teste"),console.log(a),t.ordersReport.books=a.map((function(t){return console.log("set batchs"),console.log(t.attributes),t.attributes}))}}),n=(e("8e6e"),e("ac6a"),e("456d"),e("bd86")),c=e("bb36");function i(t,a){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);a&&(s=s.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),e.push.apply(e,s)}return e}function o(t){for(var a=1;a<arguments.length;a++){var e=null!=arguments[a]?arguments[a]:{};a%2?i(Object(e),!0).forEach((function(a){Object(n["a"])(t,a,e[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):i(Object(e)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(e,a))}))}return t}var l={fetchBatches:function(t){var a=this,e=t.commit;return new Promise((function(t,s){c["a"].get("/admin/batches").then((function(s){e("SET_BATCHES",a.state.responseDataPath?s[a.state.responseDataPath].data:s.data),t(s)})).catch((function(t){s(t)}))}))},fetchBatch:function(t,a){var e=this,s=t.commit;return new Promise((function(t,r){c["a"].get("/admin/batches/".concat(a)).then((function(a){s("SET_BATCH",e.state.responseDataPath?a[e.state.responseDataPath].data:a.data),t(e.state.responseDataPath?a[e.state.responseDataPath]:a)})).catch((function(t){r(t)}))}))},addBatch:function(t,a){var e=this,s=t.commit;return new Promise((function(t,r){var n=o({},a,{status:a.status.value});c["a"].post("/admin/batches",{attributes:n}).then((function(a){s("ADD_BATCH",e.state.responseDataPath?a[e.state.responseDataPath].data:a.data),t(a)})).catch((function(t){r(t)}))}))},updateBatch:function(t,a){var e=t.commit;return new Promise((function(t,s){c["a"].patch("/admin/batches/".concat(a.id),{data:a}).then((function(s){e("UPDATE_BATCH",Object.assign(a,{id:s.data.id})),t(s)})).catch((function(t){s(t)}))}))},removeBatch:function(t,a){var e=t.commit;return new Promise((function(t,s){c["a"].delete("/admin/batches/".concat(a)).then((function(s){e("REMOVE_BATCH",a),t(s)})).catch((function(t){s(t)}))}))},fetchOrdersReport:function(t,a){var e=this,s=t.commit;return new Promise((function(t,r){c["a"].get("/admin/batches/".concat(a,"/orders-report")).then((function(a){s("SET_ORDERS_REPORT",e.state.responseDataPath?a[e.state.responseDataPath].data:a.data),t(a)})).catch((function(t){r(t)}))}))}},d={};a["a"]={isRegistered:!1,namespaced:!0,state:s,mutations:r,actions:l,getters:d}}}]);
//# sourceMappingURL=chunk-f2d1bbcc.eeccf1ab.js.map